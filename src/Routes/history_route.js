"use strict";const e=require("express"),t=e.Router(),r=require("moment"),o=require("../Controllers/history_controller"),{getJSON:s}=require("../API/DownloaderAPI/downloader");t.get("/history",o.getAllHistory),t.get("/history/:page([0-9]+)",o.getAllHistory),t.post("/history/delete",o.deleteHistory),t.get("/history/xlsx",async(e,t)=>{const o=await s(1);return t.xls(`${o.name_file}-${r().format("DD-MM-YYYY")}.xlsx`,o.json)}),t.post("/history/delete",o.deleteHistory),module.exports=t;