"use strict";const e=require("path"),t=require("express"),n=require("multer"),o=require("body-parser"),s=require("../Controllers/public_controller"),i=require("../Models/Content"),d=o.urlencoded({extended:!1}),g=n({dest:e.join(__dirname,"../..","uploads/images/temp")}),a=g.single("main_photo"),p=g.array("slider_photos"),l=g.array("page_files"),r=g.array("background_imgs"),m=g.array("sign_imgs"),c=g.array("category_imgs"),u=g.single("link_img"),C=t.Router();C.get("/main_menu",s.getMainMenu),C.get("/side_menu/:lang(en|ua)",s.getSideMenu),C.get("/content_page/:id",s.getContentPage),C.get("/actual-content/:lang(en|ua)",s.getActualContent),C.get("/actual-content/getOne/:id",s.getOneActualContent),C.get("/news/:lang(en|ua)",s.getNewsALL),C.get("/news/filter/:lang(en|ua)?:category?:date?",s.getFilterNews),C.get("/side_menu/:id",s.getElementSideMenu),C.get("/element_menu/:id",s.getElementMenuBody),C.get("/news/:id",s.getNewsOne),C.get("/links",s.getSocialLinks),C.get("/troops/",s.getAllTroops),C.get("/command",s.getAllCommand),C.get("/contacts",s.getContacts),C.get("/images/:content/:type/:img",s.getContentPicture),C.get("/files/:content/:name",s.getContentFile),C.get("/corps/img/:type/:name",s.getCorpsImg),C.get("/command/img/:type/:name",s.getCommandImg),C.get("/rss",s.getRss),C.post("/message",s.SaveMessage),C.post("/upload/main-photo",d,a,s.postUploadMainPhoto),C.post("/delete/main-photo",d,n().none(),s.postDeleteMainPhoto),C.post("/upload/slider",d,p,s.postUploadSlider),C.post("/add/slider",d,p,s.postAddSlider),C.post("/delete/slider/:id/:name",d,n().none(),s.postDeleteSliderImage),C.post("/upload/files",d,l,s.postUploadFiles),C.post("/add/files",d,l,s.postAddFiles),C.post("/delete/file/:id/:name",d,n().none(),s.postDeleteFile),C.post("/corps/bg/add",d,r,s.postSendCorpsBG),C.post("/corps/bg/delete/:id",d,n().none(),s.postDeleteCorpsBG),C.post("/corps/sign/add",d,m,s.postSendCorpsSign),C.post("/corps/sign/delete/:id",d,n().none(),s.postDeleteCorpsSign),C.post("/command/bg/add",d,r,s.postSendCommandBG),C.post("/command/bg/delete/:id",d,n().none(),s.postDeleteCommandBG),C.post("/command/sign/add",d,m,s.postSendCommandSign),C.post("/command/sign/delete/:id",d,n().none(),s.postDeleteCommandSign),C.post("/upload/category-photo",d,c,s.postAddCategoryPhoto),C.get("/update-after",async(e,t)=>{const n=await i.find();return t.json(n)}),C.post("/link-img/send",d,u,s.postSetLinkImg),C.post("/link-img/delete/:id",d,n().none(),s.postDeleteLinkImg),C.get("/link-img/:img",s.getLinkPicture),C.post("/content/links/send",d,n().none(),s.postSendContentLinks),module.exports=C;