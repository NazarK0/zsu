"use strict";const e=require("path"),t=require("express"),o=require("multer"),n=require("body-parser"),s=require("../Controllers/public_controller"),d=require("../Models/Content"),i=n.urlencoded({extended:!1}),a=o({dest:e.join(__dirname,"../..","uploads/images/temp")}),g=a.single("main_photo"),p=a.array("slider_photos"),l=a.array("page_files"),r=a.array("background_imgs"),m=a.array("sign_imgs"),u=a.array("category_imgs"),c=a.single("link_img"),C=t.Router();C.get("/main_menu",s.getMainMenu),C.get("/side_menu/:lang(en|ua)",s.getSideMenu),C.get("/news/:lang(en|ua)",s.getNewsALL),C.get("/news/filter/:lang(en|ua)?:category?:date?",s.getFilterNews),C.get("/side_menu/:id",s.getElementSideMenu),C.get("/element_menu/:id",s.getElementMenuBody),C.get("/news/:id",s.getNewsOne),C.get("/links",s.getSocialLinks),C.get("/troops/",s.getAllTroops),C.get("/command",s.getAllCommand),C.get("/contacts",s.getContacts),C.get("/images/:content/:type/:img",s.getContentPicture),C.get("/files/:content/:name",s.getContentFile),C.get("/corps/img/:type/:name",s.getCorpsImg),C.get("/command/img/:type/:name",s.getCommandImg),C.get("/rss",s.getRss),C.post("/message",s.SaveMessage),C.post("/upload/main-photo",i,g,s.postUploadMainPhoto),C.post("/delete/main-photo",i,o().none(),s.postDeleteMainPhoto),C.post("/upload/slider",i,p,s.postUploadSlider),C.post("/add/slider",i,p,s.postAddSlider),C.post("/delete/slider/:id/:name",i,o().none(),s.postDeleteSliderImage),C.post("/upload/files",i,l,s.postUploadFiles),C.post("/add/files",i,l,s.postAddFiles),C.post("/delete/file/:id/:name",i,o().none(),s.postDeleteFile),C.post("/corps/bg/add",i,r,s.postSendCorpsBG),C.post("/corps/bg/delete/:id",i,o().none(),s.postDeleteCorpsBG),C.post("/corps/sign/add",i,m,s.postSendCorpsSign),C.post("/corps/sign/delete/:id",i,o().none(),s.postDeleteCorpsSign),C.post("/command/bg/add",i,r,s.postSendCommandBG),C.post("/command/bg/delete/:id",i,o().none(),s.postDeleteCommandBG),C.post("/command/sign/add",i,m,s.postSendCommandSign),C.post("/command/sign/delete/:id",i,o().none(),s.postDeleteCommandSign),C.post("/upload/category-photo",i,u,s.postAddCategoryPhoto),C.get("/update",s.Update),C.get("/update-after",async(e,t)=>{const o=await d.find();return t.json(o)}),C.post("/link-img/send",i,c,s.postSetLinkImg),C.post("/link-img/delete/:id",i,o().none(),s.postDeleteLinkImg),C.get("/link-img/:img",s.getLinkPicture),module.exports=C;