"use strict";const e=require("express"),r=e.Router(),s=require("moment"),t=require("../Controllers/user_controller"),{getJSON:o}=require("../API/DownloaderAPI/downloader");r.get("/main",t.getMainPage),r.get("/user/:page([0-9]+)",t.getAllUser),r.route("/user/edit/:iduser").post(t.editUser).get(t.getEditUser),r.route("/user/edit/:iduser/password").post(t.postEditUserPassword).get(t.getEditUserPassword),r.post("/user/delete/:iduser?",t.removeUser),r.route("/user/add").post(t.addUser).get(t.getAddForm),r.get("/user/xlsx",async(e,r)=>{const t=await o(3);return r.xls(`${t.name_file}-${s().format("DD-MM-YYYY")}.xlsx`,t.json)}),module.exports=r;