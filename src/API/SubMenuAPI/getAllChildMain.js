"use strict";const e=require("../../Models/Submenu"),t=require("../../Models/ChildSub"),{getBodyForContent:r}=require("../../API/Content/getSearchBody");async function n(t){let r=[],n=JSON.parse(JSON.stringify(await e.find().where({parent_main:t}).sort({number:1})));for(let e=0;e<n.length;e++)n[e].child_sub=await i(n[e]._id),r.push(n[e]);return r}async function i(e){let r=[],n=JSON.parse(JSON.stringify(await t.find().where({parent_sub:e}).sort({number:1})));for(let t=0;t<n.length;t++)n[t].child=await s(n[t]._id),r.push(n[t]);return r}async function s(e){let r=[],n=JSON.parse(JSON.stringify(await t.find().where({parent_sub:e}).sort({number:1})));for(let t=0;t<n.length;t++)r.push(n[t]);return r}module.exports=n;