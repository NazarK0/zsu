"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=require("../../Models/Content"),i=require("../../Models/Submenu"),l=require("../../Models/ChildSub"),u=require("../../Models/Sidemenu");async function o(e){const t=await i.findById(e),n=await l.findById(e);return t?{type:"Так",title:t.title}:n?{type:"Так",title:n.title}:{type:"Ні",title:"Відсутня"}}async function a(e){const t=await u.findById(e);return null!==t?{type:"Так",title:t.title}:{type:"Ні",title:"Відсутня"}}function c(e,n,r){let i=t({},e);return!0===r?(i.dependense_main=n.type,i.dependense_main_title=n.title,i):!1===r?(i.dependense_side=n.type,i.dependense_side_title=n.title,i):void 0}module.exports.getAllPage=async()=>{let e=[],t=await r.find().where({page_type:"content_page"}).select({_id:1,page_title:2,generated_menu_link:3,generated_sidemenu_link:4,lang:5,keywords:6}),n=JSON.parse(JSON.stringify(t));for(let r=0;r<n.length;r++){let{generated_menu_link:t,generated_sidemenu_link:i}=n[r];if(null!==t){const e=await o(t);n[r]=c(n[r],e,!0)}if(null!==i){const e=await a(i);null!==e&&(n[r]=c(n[r],e,!1)),null===e&&(n[r]=c(n[r],{type:"Ні",title:"Відсутня"},!1))}null===t&&(n[r]=c(n[r],{type:"Ні",title:"Відсутня"},!0)),null===i&&(n[r]=c(n[r],{type:"Ні",title:"Відсутня"},!1)),e.push(n[r])}return e};