"use strict";const e=require("fs"),i=require("sharp"),t=require("image-size");module.exports=async(r,s,f)=>{let o;if(!e.existsSync(f))return console.error("cropImage API","file not found "+f),null;const n=await i(f);if(r>0&&s>0)o=await n.resize(r,s,{fit:"inside"}).toBuffer();else if(r>0){const{height:e}=t(f);o=await n.resize(r,e,{fit:"inside"}).toBuffer()}else if(s>0){const{width:e}=t(f);o=await n.resize(e,s,{fit:"inside"}).toBuffer()}else o=await n.toBuffer();return o};