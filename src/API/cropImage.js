"use strict";const e=require("fs"),i=require("sharp"),t=require("image-size");module.exports=async(s,r,f)=>{let a;if(!e.existsSync(f))return null;const n=await i(f);if(s>0&&r>0)a=await n.resize(s,r,{fit:"inside"}).toBuffer();else if(s>0){const{height:e}=t(f);a=await n.resize(s,e,{fit:"inside"}).toBuffer()}else if(r>0){const{width:e}=t(f);a=await n.resize(e,r,{fit:"inside"}).toBuffer()}else a=await n.toBuffer();return a};