"use strict";const e=require("sharp"),i=require("image-size");module.exports=async(t,s,r)=>{let f;const a=await e(r);if(t>0&&s>0)f=await a.resize(t,s,{fit:"inside"}).toBuffer();else if(t>0){const{height:e}=i(r);f=await a.resize(t,e,{fit:"inside"}).toBuffer()}else if(s>0){const{width:e}=i(r);f=await a.resize(e,s,{fit:"inside"}).toBuffer()}else f=await a.toBuffer();return f};